(()=>{"use strict";var e={150:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(81),a=t.n(r),s=t(645),o=t.n(s),i=t(667),d=t.n(i),l=new URL(t(878),t.b),c=o()(a()),p=d()(l);c.push([e.id,"* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n/*main {*/\n/*  background: darkgray;*/\n/*}*/\n.app-wrapper {\n    font-family: sans-serif;\n    background: url("+p+") center no-repeat;\n    background-size: cover;\n    height: 100vh;\n\n  }\n  .hide {\n      display: none!important;\n  }\n  .show {\n      display: flex!important;\n  }\n  \n  .container {\n    max-width: 1140px;\n    /* padding: 0 15px; */\n    margin: 0 auto;\n    width: 100%;\n    \n  }\n  .header-container {\n    display: flex;\n    justify-content: center;\n  }\n  .header, .logged-header {\n    height: 100px;\n    border-bottom: 3px solid rgb(255, 166, 0);  \n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .header {\n    background: transparent;\n  }\n  .logged-header {\n    background: black;\n  }\n  .auth {\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n  }\n\n  .logo, .user-name {\n    font-size: 26px;\n    text-transform: uppercase;\n    font-weight: 700;\n    display: flex;\n    align-items: center;\n  }\n  .user-name {\n    color:rgb(255, 166, 0)\n  }\n  .logo span {\n    padding: 5px 10px;\n    border-radius: 10px;\n    transition: ease-out 0.5s;\n    border: 1px solid transparent;\n    color: azure;\n  }\n   .first-letter{\n    color: rgb(255, 166, 0)!important;\n    background-color: black;\n    font-size: 30px;\n    font-weight: bold;\n    border: 1px solid rgb(255, 166, 0);\n  }\n  .logo span:nth-child(even) {\n    border-radius: 50%;\n    padding: 5px 10px;\n    color: gold;\n  }\n.logo span:nth-child(odd):hover {\n  background-color: black;\n  color: rgb(255, 166, 0);\n  border: 1px solid black;\n  transition: ease-out 0.5s;\n}\n.logo span:nth-child(even):hover {\n  background-color: rgb(255, 166, 0);\n  color: black;\n  border: 1px solid rgb(255, 166, 0);\n  transition: ease-out 0.5s;\n}\n  .animation-block, .animation-first-letter {\n    opacity: 0;\n    animation: slidein;\n    animation-duration: 2s;\n    animation-fill-mode: forwards;\n  }\n.animation-block {\n  animation-delay: 2s;\n}\n\n@keyframes slidein {\n  0% {\n    opacity: 0;\n  }\n\n  75% {\n    opacity: 1;\n    transform: scale(1.5);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n  \n  .btn {\n    outline: none;\n    cursor: pointer;\n  }\n  \n  .btn-text, .logout {\n    border: none;\n    background-color: transparent;\n    font-size: 18px;\n    text-transform: uppercase;\n    padding: 0;\n    transition: ease-out 0.5s;\n  }\n  .logout {\n    color: rgb(255, 53, 53);\n    border-radius: 5px;\n    padding: 5px;\n  }\n  .btn-text:hover {\n    color: azure;\n    font-weight: bolder;\n    transition: ease-in-out 0.3s;\n  }\n  \n  .avatar {\n    display: inline-block;\n    width: 36px;\n    height: 36px;\n    font-size: 22px;\n    line-height: 36px;\n    text-align: center;\n    border: 2px solid rgb(255, 166, 0);\n    border-radius: 50%;\n    text-transform: uppercase;\n    margin-left: 8px;\n    color: rgb(255, 166, 0);\n  }\n  \n  .auth-form {\n    max-width: 500px;\n    margin: 0 auto;\n    box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\n    padding: 16px;\n    margin-top: 100px;\n    border-radius: 8px;\n    background-color: rgba(252, 252, 252, 0.75);\n    /*opacity: 0.75;*/\n  }\n  \n  .form-title {\n    font-size: 28px;\n    text-transform: uppercase;\n    font-weight: 700;\n    margin-bottom: 32px;\n    margin-top: 8px;\n  }\n  \n  .auth-form form {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .text-control {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 22px;\n    position: relative;\n  }\n  \n  .input-error {\n    position: absolute;\n    bottom: -16px;\n    left: 0;\n    font-size: 14px;\n    color: red;\n  }\n  \n  .text-control:last-of-type {\n    margin-bottom: 42px;\n  }\n  \n  .text-control label {\n    margin-bottom: 4px;\n  }\n  \n  .input {\n    padding: 8px;\n    border: 1px solid black;\n    border-radius: 4px;\n    background: transparent;\n  }\n  \n  .btn-form {\n    padding: 8px 16px;\n    border: 2px solid black;\n    border-radius: 4px;\n    font-size: 18px;\n    font-weight: 500;\n    background-color: transparent;\n    align-self: flex-end;\n  }\n  \n  .board {\n    padding: 16px 15px 0 15px ;\n    display: grid;\n    grid-gap: 32px;\n    grid-template-columns: 1fr 1fr;\n    background: url("+p+") center no-repeat;\n    background-size: cover;\n    height: calc(100vh - 100px);\n    width: 100%;\n  }\n  \n  .task-form {\n    box-shadow: 0 5px 10px rgb(154 160 185 / 5%),\n      0 15px 40px rgb(166 173 201 / 20%);\n    padding: 32px;\n    border-radius: 8px;\n    align-self: start;\n    background-color: azure;\n  }\n  \n  .task-form form {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .task-card {\n    position: relative;\n    box-shadow: 0 5px 10px rgba(154, 160, 185, 0.05),\n      0 15px 40px rgba(166, 173, 201, 0.2);\n    padding: 24px;\n    border-radius: 8px;\n    margin-bottom: 24px;\n    background: rgb(255, 166, 0);\n  }\n  .task-cards {\n    border: 2px solid rgb(255, 166, 0);\n    padding: 5px;\n    border-radius: 10px;\n    height: calc(85vh - 30px);\n    overflow-y: auto;\n  }\n  .task-cards::-webkit-scrollbar {\n    width: 0px;\n  }\n  .task-title {\n    font-size: 24px;\n    font-weight: bold;\n    margin-bottom: 16px;\n  }\n  \n  .finished {\n    text-decoration: line-through;\n    color: grey;\n  }\n  \n  .task-description {\n    font-size: 16px;\n    margin-bottom: 16px;\n  }\n  \n  .task-date {\n    color: rgb(87, 86, 86);\n    margin-bottom: 16px;\n    font-size: 16px;\n    font-weight: 600;\n  }\n  \n  .time-tracker {\n    display: flex;\n    align-items: center;\n    margin-bottom: 16px;\n  }\n  \n  .timer-btn {\n    position: relative;\n    border-radius: 100%;\n    width: 22px;\n    height: 22px;\n    border: none;\n    background-color: crimson;\n    margin-right: 8px;\n    cursor: pointer;\n    font-size: 10px;\n  }\n  \n  .timer-btn i {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: #fff;\n  }\n  \n  .timer-btn:disabled {\n    cursor: not-allowed;\n    background-color: gray;\n  }\n  \n  .timer-btn-play {\n    background-color: forestgreen;\n  }\n  \n  .timer-btn-stop {\n    background-color: crimson;\n  }\n  \n  .btn-small {\n    padding: 4px 8px;\n    border: 1px solid black;\n    font-size: 14px;\n    border-radius: 4px;\n  }\n  \n  .task-delete-btn {\n    position: absolute;\n    top: 16px;\n    right: 16px;\n    cursor: pointer;\n    background-color: transparent;\n    border-radius: 50%;\n    border: 1px solid gray;\n    color: gray;\n    width: 25px;\n    height: 25px;\n    text-align: center;\n  }\n  \n  @media (max-width: 768px) {\n    .board {\n      grid-template-columns: 1fr;\n    }\n  }\n",""]);const u=c},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var i=0;i<this.length;i++){var d=this[i][0];null!=d&&(o[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),n.push(c))}},n}},667:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var s={},o=[],i=0;i<e.length;i++){var d=e[i],l=r.base?d[0]+r.base:d[0],c=s[l]||0,p="".concat(l," ").concat(c);s[l]=c+1;var u=t(p),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)n[u].references++,n[u].updater(m);else{var h=a(m,r);r.byIndex=i,n.splice(i,0,{identifier:p,updater:h,references:1})}o.push(p)}return o}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var i=t(s[o]);n[i].references--}for(var d=r(e,a),l=0;l<s.length;l++){var c=t(s[l]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}s=d}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},878:(e,n,t)=>{e.exports=t.p+"6a0cc736d0cfdc33cbef.jpeg"}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var s=n[r]={id:r,exports:{}};return e[r](s,s.exports,t),s.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,(()=>{const e=class{regBody={email:{email:"",isValid:!1},name:{name:"",isValid:!1},password:{value:"",isValid:!1},taskName:{value:"",isValid:!1},description:{value:"",isValid:!1}};constructor(){}setValue(e,n){document.querySelector(n).addEventListener("change",(n=>{this.validateData(e,n.target.value)}))}resetForm(){document.querySelector("#_email").value="",document.querySelector("#_password").value="",document.querySelector("#_name").value=""}resetTaskForm(){document.getElementById("_taskName").value="",document.getElementById("_description").value=""}getBody(){return this.regBody}validateData(e,n){switch(document.getElementById("send-form"),e){case"email":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)?(this.regBody[e]={value:n,isValid:!0},document.querySelector(".error-email").innerHTML=""):(document.querySelector(".error-email").innerHTML="Invalid Email",this.regBody[e]={value:n,isValid:!1});break;case"password":n.length>5?(this.regBody[e]=n,document.querySelector(".error-password").innerHTML="",this.regBody[e]={value:n,isValid:!0}):(document.querySelector(".error-password").innerHTML="Invalid password",this.regBody[e]={value:n,isValid:!1});break;case"name":n.length>5?(this.regBody[e]=n,document.querySelector(".error-name").innerHTML="",this.regBody[e]={value:n,isValid:!0}):(document.querySelector(".error-name").innerHTML="Your name is to short",this.regBody[e]={value:n,isValid:!1});break;case"taskName":n.length>4?(this.regBody[e]=n,document.querySelector(".error-task-name").innerHTML="",this.regBody[e]={value:n,isValid:!0}):(document.querySelector(".error-task-name").innerHTML="Your task name is to short",this.regBody[e]={value:n,isValid:!1});break;case"description":n.length>5?(this.regBody[e]=n,document.querySelector(".error-description").innerHTML="",this.regBody[e]={value:n,isValid:!0}):(document.querySelector(".error-description").innerHTML="Your description is to short. Min length 5 characters",this.regBody[e]={value:n,isValid:!1});break;default:return!1}}checkedFieldsBeforeSend(){return!(!this.regBody.email.isValid||!this.regBody.password.isValid)}},n=class{baseUrl="https://byte-tasks.herokuapp.com/api";headers={"Content-Type":"application/json;charset=utf-8"};constructor(e){this.path=e}login(n){const t={email:n.email.value,password:n.password.value};fetch(this.baseUrl+this.path,{method:"POST",headers:this.headers,body:JSON.stringify(t)}).then((e=>e.json())).then((n=>{n&&(localStorage.setItem("token",n.token.toString()),(new e).resetForm(),window.location.href="to-do-list.html")}))}register(e){const n={email:e.email.value,name:e.name.value,password:e.password.value};fetch(this.baseUrl+this.path,{method:"POST",headers:this.headers,body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{e&&(localStorage.setItem("token",e.token.toString()),window.location.href="to-do-list.html")}))}logout(){localStorage.removeItem("token"),window.location.href="index.html"}},r=class{baseUrl="https://byte-tasks.herokuapp.com/api";headers={Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json;charset=utf-8"};constructor(e){this.path=e}getUser(){fetch(this.baseUrl+"/auth/user/self",{method:"GET",headers:this.headers}).then((e=>e.json())).then((e=>{document.querySelector(".logo").innerHTML=`Hi, ${e.name}`,document.querySelector(".avatar").innerHTML=e.name.charAt(0).toUpperCase()}))}addTask(e){return fetch(this.baseUrl+this.path,{method:"POST",headers:this.headers,body:JSON.stringify(e)}).then((e=>e.json()))}removeTask(e){return fetch(this.baseUrl+`/task/${e}`,{method:"Delete",headers:this.headers})}patchRequest(e,n){return fetch(this.baseUrl+`/task/${e}`,{method:"PATCH",headers:this.headers,body:JSON.stringify(n)}).then((e=>e.json()))}getTasks(){return fetch(this.baseUrl+"/task",{method:"GET",headers:this.headers}).then((e=>e.json())).then((e=>e))}},a=class{timerInterval=0;constructor(e,n,t){this.id=e,this.isActive=n,this.timeTracked=t}startTimer(e,n){const t=moment.utc(n),r=document.getElementById(e);this.timerInterval=setInterval((function(){t.add(1,"second"),r.querySelector(".time-tracker span").innerHTML=t.format("HH:mm:ss")}),1e3)}stopTimer(){clearInterval(this.timerInterval)}};var s=t(379),o=t.n(s),i=t(795),d=t.n(i),l=t(569),c=t.n(l),p=t(565),u=t.n(p),m=t(216),h=t.n(m),g=t(589),f=t.n(g),b=t(150),x={};x.styleTagTransform=f(),x.setAttributes=u(),x.insert=c().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=h(),o()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals,window.onload=function(){!localStorage.getItem("token")&&document.location.href.includes("to-do-list.html")&&(document.location.href="index.html"),localStorage.getItem("token")&&document.location.href.includes("index.html")&&(document.location.href="to-do-list.html")};const v=document.getElementById("login"),y=document.querySelector("h3"),k=new r,w=new class{tasks=[];timerClass=new a;constructor(){}saveList(e){this.tasks=e}getTaskList(){return this.tasks}getTask(e){const n=this.tasks.findIndex((n=>n._id===e));return this.tasks[n]}rerender(e,n){this.updateTask(e);const t=document.getElementById(e._id),r=t.querySelector(".task-title"),a=t.querySelector(".task-description"),s=t.querySelector(".time-tracker span"),o=t.querySelector(".time-tracker .timer-btn i"),i=t.querySelector(".timer-btn"),d=t.querySelector(".task-date"),l=t.querySelector(".stopTask");"task"===n&&(!0===e.isFinished&&(r.classList.add("finished"),a.classList.add("finished"),d.classList.add("finished"),s.classList.add("finished"),l.innerHTML="Restart",i.classList.remove("timer-btn-play"),i.classList.remove("timer-btn-stop"),i.setAttribute("disabled","disabled")),!1===e.isFinished&&(r.classList.remove("finished"),a.classList.remove("finished"),d.classList.remove("finished"),l.innerHTML="Mark as done",s.classList.remove("finished"),e.isActive?i.classList.add("timer-btn-stop"):i.classList.add("timer-btn-play"),i.removeAttribute("disabled"))),"timer"===n&&(e.isActive&&(o.classList.remove("fa-pause"),i.classList.remove("timer-btn-stop"),o.classList.add("fa-play"),i.classList.add("timer-btn-play"),this.timerClass.stopTimer()),e.isActive||(o.classList.remove("fa-play"),i.classList.remove("timer-btn-play"),o.classList.add("fa-pause"),i.classList.add("timer-btn-stop"),this.timerClass.startTimer(e._id,e.timeTracked)))}updateTask(e){const n=this.tasks.findIndex((n=>n._id===e._id));this.tasks[n]=e}},T=new class{timerClass=new a;constructor(){}createCard(e){document.querySelector(".task-cards").innerHTML+=`\n            <div id=${e._id} class="task-card">\n              <h3 class="task-title ${e.isFinished?"finished":""}" isfinished="${e.isFinished}">${e.name}</h3>\n              <p class="task-description ${e.isFinished?"finished":""}">${e.description}</p>\n              <div class="time-tracker" >\n                <button ${e.isFinished?"disabled":""} ${e.isActive?'class="timer-btn timer-btn-stop"':'class="timer-btn timer-btn-play"'}>\n                  <i ${e.isActive?'class="fas fa-pause':'class="fas fa-play'}"></i></button\n                ><span ${e.isFinished?"class=finished":""}>00:00:00</span>\n              </div>\n              <p class="task-date ${e.isFinished?"finished":""}">${moment(e.createdAt).format("MM/DD/YYYY, h:mm:ss a")}</p>\n              <button  class="btn btn-form btn-small stopTask"> ${e.isFinished?"Restart":"Mark as done"}</button\n              >\n              <button  class="task-delete-btn">\n                <i class="fas fa-times"></i>\n              </button>\n            </div>`}},L=new a,S=new class{constructor(){}addLoginForm(){document.getElementById("login-form").innerHTML='\n            <div class="text-control">\n              <label for="_email">Email</label\n              ><input type="text" class="input" id="_email" required /><span\n                class="input-error error-email"\n            ></span>\n            </div>\n            <div id="form-name" class="text-control hide">\n              <label for="_name">Name</label\n              ><input type="text" class="input" id="_name" required /><span\n                class="input-error error-name"\n            ></span>\n            </div>\n            <div class="text-control">\n              <label for="_password">Password</label\n              ><input type="password" class="input" id="_password" required /><span\n                class="input-error error-password"\n            ></span>\n            </div>\n            <button id="send-form" type="submit" class="btn btn-form">Submit</button>'}addTaskForm(){document.querySelector("#task-area").innerHTML='\n              <form>\n                <h3 class="form-title">Add task</h3>\n                <div class="text-control">\n                  <label for="_taskName">Name</label\n                  ><input type="text" class="input" id="_taskName" /><span\n                    class="input-error error-task-name"\n                  ></span>\n                </div>\n                <div class="text-control">\n                  <label for="_description">Description</label\n                  ><input type="text" class="input" id="_description" /><span\n                    class="input-error error-description"\n                  ></span>\n                </div>\n                <button id="saveTask" type="submit" class="btn btn-form">Add</button>\n              </form>'}};let q=!0;if(localStorage.getItem("token")){(new r).getUser(),S.addTaskForm(),_();const t=new n;document.querySelector("#logout").addEventListener("click",(()=>t.logout()));const a=new e;a.setValue("taskName","#_taskName"),a.setValue("description","#_description"),document.querySelector("#saveTask").addEventListener("click",(n=>{n.preventDefault();const t=document.getElementById("_taskName"),s=document.getElementById("_description");let o;if(0===t.value.length&&0===s.value.length)o={};else{const e=a.getBody();o={name:e.taskName.value,description:e.description.value}}(new e).resetTaskForm(),new r("/task").addTask(o).then((e=>{_()}))}))}else{S.addLoginForm();const t=document.querySelector("#form-name");function r(){q=!q,v.innerText=q?"Register":"Login",y.innerText=q?"Login":"Register",q?(t.classList.add("hide"),t.classList.remove("show")):(t.classList.add("show"),t.classList.remove("hide"))}v.addEventListener("click",r);const a=new n("/auth/login"),s=new n("/auth/register"),o=new e;function i(e){e.preventDefault();const n=o.getBody();o.checkedFieldsBeforeSend()?q?a.login(n):s.register(n):alert("Errors in fields")}document.querySelector(".btn-form").addEventListener("click",(e=>{i(e)})),q?(o.setValue("email","#_email"),o.setValue("password","#_password"),o.setValue("name","#_name")):(o.setValue("email","#_email"),o.setValue("password","#_password"))}function _(){document.querySelector(".task-cards").innerHTML="",k.getTasks().then((e=>{w.saveList(e),e.forEach((e=>{T.createCard(e)}));const n=document.querySelectorAll(".task-delete-btn"),t=document.querySelectorAll(".timer-btn"),r=document.querySelectorAll(".stopTask"),a=document.querySelectorAll(".time-tracker span");document.querySelectorAll(".timer-btn .fa-pause").forEach((e=>{const n=e.parentNode.parentNode.parentNode.getAttribute("id"),t=w.getTask(n);a.innerHTML=`${L.startTimer(t._id,t.timeTracked)}`})),n.forEach((e=>{e.addEventListener("click",(()=>{return n=e.parentNode.getAttribute("id"),void k.removeTask(n).then((()=>{document.getElementById(n).remove()}));var n}))})),t.forEach((e=>{e.addEventListener("click",(()=>function(e){const n=w.getTaskList(),t=n.findIndex((n=>n._id===e)),r=!n[t].isActive;k.patchRequest(e,{isActive:r}).then((e=>{w.rerender(e,"timer")}))}(e.parentNode.parentNode.getAttribute("id"))))})),r.forEach((e=>{e.addEventListener("click",(()=>function(e){const n=w.getTaskList(),t=n.findIndex((n=>n._id===e)),r=n[t].isFinished;k.patchRequest(e,{isFinished:!r}).then((e=>{w.rerender(e,"task")}))}(e.parentNode.getAttribute("id"))))})),a.forEach((e=>{const n=e.parentNode.parentNode.getAttribute("id"),t=w.getTaskList(),r=t.findIndex((e=>e._id===n));e.innerHTML=moment.utc(t[r].timeTracked).format("HH:mm:ss")}))}))}})()})();